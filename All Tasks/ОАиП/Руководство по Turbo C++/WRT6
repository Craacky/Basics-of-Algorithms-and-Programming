                           ГЛАВА 6

                     DIALOG BOX РЕДАКТОР

     Dialog Box редактор предоставляет Вам  визуально-интерак-
тивный метод для создания ресурсов диалогового окна.  Диалого-
вое окно - это специальное окно,  содержащее элементы управле-
ния, например окна списков,  кнопки и поля редактирования. Эти
элементы управления являются  элементами,  которые  составляют
интерфейс диалогового   окна  с  пользователем.  Использование
Dialog Box редактора подобно использованию рисующей программы.
Вы создаете и редактируете диалоговые окна посредством выбора,
размещения и модификации их элементов управления.

                            Файлы

     Dialog Box редактор может редактировать ресурсы  диалого-
вого окна из файлов ресурсов (.RES),  выполнимых файлов (.EXE)
и библиотек динамического редактирования (DLL).  Он может сох-
ранить ресурсы  диалогового  окна  непосредственно в новом или
существующем RES файле,  и он может также сохранять  такую  же
спецификацию диалогового окна в файле описания ресурсов диало-
гового окна (DLG). Эти файлы описаны в главе 2. Dialog Box ре-
дактор может  также  открыть  файл  заголовков для соотношения
обозначений из файла с ресурсами диалогового окна.

                       Файлы заголовков

     Чтобы открыть файл заголовков (называемый  также  include
файлом) для  просмотра или редактирования обозначений во время
определения ресурсов  диалогового  окна,  выберите   File│Open
Header из меню Dialog Box редактора. Открытие файла заголовков
открывает специальный редактор,  который позволяет  редактиро-
вать обозначения в файле заголовков.  Более подробная информа-
ция о файлах заголовков и инструкции по редактированию обозна-
чений приведены в главе 9.

                       Обзор редактора

     Dialog Box редактор имеет  две палитры:
     - Tools палитра позволяет создавать диалоговое окно и все
его элементы  управления.  Tools палитра описана ниже в данной
главе.
     - Alignment  палитра позволяет изменить выравнивание эле-
ментов управления внутри диалогового окна.  Alignment  палитра
описана ниже в данной главе.
     По умолчанию,  палитры находятся выше  редактируемой  об-
ласти, причем  Tools  палитра находится слева от Alignment па-
литры. Когда Вы изменяете размер Dialog Box редактора на Вашей
ПЭВМ - в частности, когда Вы уменьшаете его размер - Вы можете
обрезать вид палитр.  В этих случаях можно изменить  положения
палитр:
     - Чтобы разместить палитры  ниже  редактируемой  области,
выберите Palettes on Bottom из Dialog меню.
     - Чтобы разместить Alignment палитру слева от  Tools  па-
литры, выберите  Swap Palettes из Dialog меню.

           Диалоговые окна и их элементы управления

     В Dialog Box редакторе можно работать с диалоговыми окна-
ми и их элементами управления, чтобы
     - создать их
     - выбрать их
     - переместить их
     - изменить их размер
     - установить их атрибуты
     - установить порядок табуляции для элементов управления
     - определить группы для элементов управления

                Диалоговые окна, имеющие меню

     Меню, находящиеся в диалоговых окнах не будут  выводиться
на  экран  в редакторе.  Область пользователя диалогового окна
будет появляться с большим,  чем в действительности размером в
y-измерении,  потому  что  часть пространства будет резервиро-
ваться для (невыводимого на экран) меню.

    Создание диалогового окна или его элемента управления

     Чтобы создать новое диалоговое окно или его элемент  уп-
равления:
     1. Выберите соответствующее средство  из  Tools  палитры.
Например, чтобы  создать  кнопку,  выберите  Button  средство.
Средства определены  в  разделах  "Dialog  Box   средство"   и
"Средства управления ", приведенных ниже в данной главе.
     Примечание. Запомните, если средство является многорежим-
ным и не выводит на экран нужную Вам опцию,  дважды нажмите на
него с помощью мышки,  пока пиктограмма не изменится до нужной
опции. (Двойное  нажатие  изменяет средство,  а также выбирает
его.)
     2. Расположите  указатель  в том месте,  откуда Вы хотите
начать рисовать. Для кнопки позиция, которую Вы выбираете, оп-
ределяет место,  где  кнопка будет выводиться на экран в Вашей
программе. Вы можете увидеть координаты этой позиции в  Dialog
Attributes диалоговом окне.
     Примечание. Информация об установке  атрибутов  приведена
ниже.
     3. Нажмите на левую кнопку мышки и задержите ее.
     4. Не отпуская кнопку,  протяните мышку в любом направле-
нии. Это образует прямоугольник,  чтобы  показать  Вам  размер
элемента, который Вы создаете. Пока Вы удерживаете левую кноп-
ку, Вы можете продолжать  настраивать  размер  прямоугольника.
Однако, Вы  не можете протянуть мышку за пределы любой границы
окна.
     5. Когда  Вы  получите нужный размер прямоугольника,  от-
пустите левую кнопку мышки. В результате элемент будет нарисо-
ван с использованием заданного размера и позиции.
     Примечание. После создания Вами элемента управления Tools
палитра  автоматически  устанавливает себя в Pointer средство.
Чтобы создать другой элемент  управления такого же типа, можно
или выбрать этот элемент опять, или нажать и не отпускать кла-
вишу Ctrl во время нажатия и протягивания мышки  для  создания
нового элемента управления.  Нажмите на клавишу Ctrl для авто-
матического выбора последнего используемого средства.
     Эту технологию  можно  использовать для создания элемента
управления без фактического его рисования.  Расположите указа-
тель в том месте, где Вы хотите нарисовать элемент управления,
нажмите на клавишу Ctrl и быстро нажмите на левую кнопку  мыш-
ки. Это создает элемент управления с размером, определенным по
умолчанию.

      Выбор диалогового окна или его элемента управления

     Прежде чем переместить или изменить  размер  элементов  в
Dialog Box редакторе, Вы должны вначале их выбрать. Когда эле-
мент выбран, Вы увидите размерное окно в каждом из его четырех
углов. Чтобы выбрать диалоговое окно,  нажмите с помощью мышки
на курсор внутри диалогового окна.  Убедитесь,  что  выбранная
позиция не занята каким-нибудь элементом управления.
     Чтобы выбрать элемент  управления, нажмите с помощью мыш-
ки на курсор в любом месте внутри данного элемента управления.
Убедитесь, чтобы курсор хорошо находился внутри  элемента  уп-
равления. Если курсор будет находиться слишком близко от одной
из границ элемента  управления,  Вы  можете  случайно  выбрать
вместо элемента управления диалоговое окно.

             Выбор нескольких элементов управления

     Dialog Box редактор позволяет выбрать несколько элементов
управления,чтобы можно было использовать средства выравнивания
для настройки их позиций, или коллективного перемещения.
     Чтобы выбрать несколько  элементов  управления,  выберите
первый  элемент  обычным  способом,  а  затем нажмите и не от-
пускайте клавишу Shift и нажимайте с помощью мышки  на  каждый
дополнительный элемент управления, который Вы хотите выбрать.
     Альтернативный способ:
     - Расположите  курсор  близко  к углу множества элементов
управления, которые Вы хотите выбрать.
     - Нажмите  на  кнопку мышки и протягивайте ее до тех пор,
пока не  образуется  прямоугольник,  включающий  в  себя   все
элементы управления, которые Вы хотите выбрать.
     - Освободите кнопку мышки.

   Отмена выбора диалогового окна или элементов управления

     Любое из следующих действий отменяет выбор  всех  элемен-
тов,которые были выбраны в данный момент времени:
     - Нажатие на кнопку мышки за пределами диалогового  окна,
но внутри редактируемой области.
     - Выбор другого элемента.
     - Создание  другого  элемента управления.  После создания
новый элемент автоматически становится выбранным.

   Перемещение диалогового окна или его элемента управления

     Когда Вы перемещаете диалоговое окно,  все  его  элементы
управления перемещаются вместе с ним.  Каждый элемент управле-
ния остается в его относительной  позиции  внутри  диалогового
окна. Когда  Вы  перемещаете элемент управления,  перемещается
только выбранный элемент управления. Если выбирается несколько
элементов управления, то они все перемещаются вместе, сохраняя
свои позиции относительно друг друга.
     Чтобы переместить диалоговое окно,
     - Расположите курсор на любой границе  диалогового  окна.
Курсор изменяет свою форму со стрелки на руку,  когда он попа-
дает на границу окна.
     - Нажмите на кнопку  мышки и протяните диалоговое окно до
его новой позиции.
     - Освободите кнопку мышки.
     Чтобы переместить элемент управления,
     - Если Вы хотите переместить несколько элементов управле-
ния, то выберите все элементы управления,  которые  Вы  хотите
переместить.
     - Расположите курсор внутри элемента управления (или  од-
ного из выбранных элементов), затем нажмите и задержите кнопку
мышки. Курсор изменяет свою форму со стрелки на руку, когда Вы
нажимаете на кнопку мышки.
     - Протяните элемент управления к его новой позиции, а за-
тем освободите кнопку мышки.

           Изменение размера  диалогового  окна или
                   его элемента управления

     Когда Вы изменяете размер диалогового окна,  размеры  его
элементов управления не изменяются.  Каждый элемент управления
сохраняет свой текущий размер и положение.  Таким образом, ми-
нимальный размер,  который  Вы  можете сделать для диалогового
окна, определяется количеством и расположением  элементов  уп-
равления внутри него.
     Когда Вы  изменяете  размер  элемента   управления,   это
действует только на выбранный элемент управления. Если Вы выб-
рали несколько элементов управления,  то они все изменяют свой
размер пропорционально.
     Чтобы изменить размер элемента,
     - Выберите элемент , для которого Вы хотите изменить раз-
мер. Чтобы изменить размер для нескольких  элементов  управле-
ния, выберите каждый элемент управления.  Размерное окно появ-
ляется в каждом углу выбранных элементов.
     - Расположите  курсор  над  одним из размерных окон.  При
правильном расположении курсор изменяет свою  форму  с  перек-
рестия на > или <.
     - Нажмите на левую кнопку мышки и задержите ее.
     - Не  отпуская кнопки,  протяните мышку в любом направле-
нии. Это показывает прямоугольник изменяющегося размера.  Пока
Вы держите  левую  кнопку мышки,  можно продолжать настраивать
размер прямоугольника.
     - Когда Вы получите прямоугольник нужного размера,  осво-
бодите левую кнопку мышки.

                  Ограничение движения мышки

     Вы можете ограничить движение мышки только одним  измере-
нием, когда Вы
     - создаете новое диалоговое окно или элемент управления
     - изменяете  размер диалогового окна или элемента  управ-
ления
     - перемещаете диалоговое окно или элемент управления
     Чтобы ограничить перемещение мышки одним измерением, наж-
мите и  не  отпускайте клавишу Shift,  а затем протяните мышку
или горизонтально или  вертикально.  Направление,  которое  Вы
выбрали, ограничивает  движение мышки этим направлением до тех
пор, пока Вы не освободите клавишу Shift.

           Установка атрибутов для диалогового окна
                   или элемента управления

     Атрибуты являются характеристиками, определенными для ди-
алогового окна или элемента управления. Каждое диалоговое окно
и элемент управления в Dialog Box редакторе имеет соответству-
ющее окно атрибутов.  С помощью диалоговых окон  атрибутов  Вы
можете:
     - присвоить заглавие диалоговому окну или текст  элементу
управления
     - изменить идентификационный номер любому элементу управ-
ления
     - изменить позицию или размер диалогового окна или любого
элемента управления
     - получить доступ к диалоговому окну типов для выбора до-
полнительных характеристик
     Чтобы определить атрибуты для диалоговых окон или элемен-
тов управления,
     1. Откройте  диалоговое  окно  атрибутов,  которое  соот-
ветствует диалоговому окну или элементу управления,  используя
один из двух методов:
     - Дважды  нажмите на кнопку мышки внутри диалогового окна
или элемента управления.  В случае диалогового окна убедитесь,
что двойное  нажатие не происходит в позиции,  занимаемой эле-
ментом управления.
     Примечание. Чтобы обойти окно  атрибутов  и  перейти  не-
посредственно к  диалоговому  окну типов,  нажмите клавишу Alt
при двойном нажатии на кнопку мышки.
     - Выберите  диалоговое  окно  и  выберите  Attributes  из
Dialog меню  или  выберите  элемент  управления   и   выберите
Attributes из Controls меню.
     2. Отредактируйте атрибуты, которые Вы хотите изменить.
     3. Чтобы перейти к экрану типов для элемента управления,
нажмите на Styles кнопку.  Типы изменяются  в  соответствии  с
элементом управления, чьи атрибуты Вы определяете.

                      Присвоение текста

     Вы можете  использовать  диалоговое  окно  атрибутов  для
присвоения заглавия  диалоговому  окну или текста элементу уп-
равления.Для диалогового окна используйте поле записи Title  ,
чтобы присвоить   этому  окну  текст.Для  элемента  управления
используйте поле записи Text ,чтобы присвоить текст этому эле-
менту.Различные типы элементов управления выводят текст в раз-
личных местах:
     - Кнопки.Text  поле определяет текст,выводимый внутри или
рядом с кнопкой.
     - Поля редактирования.  Text поле определяет определенный
по умолчанию текст, выводимый при первом появлении диалогового
окна.
     - Статистический текст. Text поле определяет текст, выво-
димый в статистическом поле.
     - Окна групп. Text поле используется для определения заг-
лавия группы.
     Для остальных элементов управления можно присвоить текст,
но этот текст не выводится на экран в программе.

                  Присвоение тексту шрифтов

     Вы можете присвоить шрифт тексту,  выводимому внутри диа-
логового окна.  Этот шрифт применяется для всех элементов  уп-
равления внутри диалогового окна.  Шрифт не обязательно должен
совпадать со шрифтами, используемыми другими диалоговыми окна-
ми в программе. (Однако, последовательность и другие проектные
соображения обычно требуют  минимальных  изменений  шрифтов  и
внутри одного диалогового окна, и во всех диалоговых окнах.)
     Чтобы присвоить шрифты тексту внутри диалогового окна,
     1. Откройте Dialog Attributes диалоговое окно, как описа-
но выше.
     2. Нажмите на Font кнопку в окне атрибутов. Это открывает
диалоговое окно,  которое имеет два комбинированных  окна  для
установки шрифтов: одно определяет тип шрифта, другое - размер
точки.
     3. Чтобы изменить тип шрифта,  нажмите с помощью мышки на
стрелку справа от Fonts комбинированного окна.  Это  открывает
спускающееся окно  списка,  которое  позволяет  выбрать шрифт,
инсталлированный на Вашей машине.  Альтернативно, наберите тип
шрифта в поле редактирования комбинированного окна. Определяе-
мый Вами шрифт не должен обязательно быть инсталлированным  на
Вашей машине или быть перечисленным в окне списка.
     4. Следуйте той же процедуре для определения размера точ-
ки в  Point Size комбинированном окне.

                     Изменение координат

     В Dialog  Attributes окне (x,y) поле показывает x и y ко-
ординаты верхнего левого угла диалогового окна. Эти координаты
показывают позицию диалогового окна внутри окна, которое выво-
дит это диалоговое окно в программе.  Они также  соответствуют
позиции диалогового окна внутри Dialog Box редактора.  (cx,cy)
поле показывает ширину и высоту диалогового окна.
     В окне  атрибутов для элементов управления (x,y) поле по-
казывает координаты верхнего левого угла элементов  управления
внутри диалогового  окна.  (cx,cy)  поле  показывает  ширину и
высоту элементов управления.  Горизонтальная единица  в  (x,y)
или (cx,cy) полях представляет собой 1/4 базовой единицы шири-
ны диалогового окна.  Вертикальная единица представляет  собой
1/8 базовой  единицы высоты диалогового окна.  Текущие базовые
единицы диалогового окна  вычисляются  как  функция  ширины  и
высоты текущего шрифта системы.
     Dialog Box  редактор  автоматически  вычисляет  (x,y)   и
(cx,cy) координаты в зависимости от текущей позиции элемента.
     - Вы можете изменить позицию элемента,  изменив  числа  в
этих полях. Вы должны задавать только целые значения.
     - Альтернативно,  переместите элемент в Dialog Box редак-
тор с  помощью  его протягивания или использования средств вы-
равнивания для настройки позиций элементов управления. Это ав-
томатически обновляет значения в (x,y) и (cx,cy) полях.

   Изменение идентификационных номеров элементов управления

     Когда Вы  сохраняете  диалоговое окно с помощью File│Save
As, открывается Resource Dialog Box,  что позволяет  присвоить
имя или  номер  ресурсу  диалогового  окна.  Это имя или номер
используется для идентификации диалогового окна в исходном ко-
де. Однако,  элементы управления идентифицируются номером, оп-
ределяемым для них в Item ID поле в их окнах атрибутах.
     Для нового  ресурса  Dialog  Box  редактор  автоматически
присваивает идентификационные номера каждому создаваемому эле-
менту управления.  Элементы  управления  нумеруются последова-
тельно по мере их создания,  при этом используются положитель-
ные числа,  начиная со 101. Для существующего ресурса элементы
управления уже имеют идентификационные номера; новым создавае-
мым элементам  управления  присваивается идентификационный но-
мер, который на единицу больше самого большого номера для  су-
ществующих элементов управления.
     Вы можете изменить идентификационный номер  элемента  уп-
равления в Item ID поле.  Чтобы показать идентификационные но-
мера для всех элементов управления диалогового  окна  ,исполь-
зуйте Dialog меню. Dialog меню описано ниже в этой главе.
     Идентификационный номер для каждого  элемента  управления
должен быть уникальным внутри диалогового окна.  Однако, иден-
тификационные номера могут совпадать с номерами, используемыми
в других ресурсах - включая другие диалоговые окна, определен-
ные для программы.  Например,  два различных диалоговых окна в
одной программе  могут  использовать  идентификационные номера
101, 102 и 103 для их элементов управления  и  ресурс  меню  в
этой же  программе может использовать такие же номера для эле-
ментов меню. Это происходит потому, что Windows интерпретирует
идентификационный номер  в контексте ресурса,  используемого в
данный момент в программе.

                      Определение типов

     Когда открыто Styles диалоговое окно,  выбираются текущие
типы элементов в независимых и зависимых   кнопках.  Вы можете
изменить типы посредством выбора альтернативных  кнопок.Напри-
мер, можно  изменить  зависимую кнопку на независимую.  выбрав
Check Box в Styles диалоговом окне.  Или можно изменить диало-
говое окно с заглавием на стандартное диалоговое окно,  выбрав
Standard Dialog Box из Dialog Box Attributes окна.

     Установка порядка табуляции для элементов управления

     Порядок табуляции  определяет  порядок перемещения фокуса
по элементам управления в программе при нажатии  клавиши  Tab.
Чтобы  установить  порядок табуляции для элементов управления,
используйте Controls меню.  Controls меню описано ниже в  этой
главе.

      Определение логических групп элементов управления

     Логическая группа определяет множество элементов управле-
ния, внутри которого можно перемещать фокус ввода,  нажимая на
клавиши со  стрелками.  Чтобы  определить  логическую  группу,
используйте Controls меню.  Controls меню описано ниже в  этой
главе.

                        Tools палитра

     Вы можете выбирать средства, используя или Tools палитру,
или Tools меню.  На рисунке 6.1 показана Tools палитра.  Чтобы
выбрать средство,  выберите  его с помощью мышки в палитре или
откройте Tools меню и выберите его по имени.

                  Рисунок 6.1 Tools палитра
  ┌──┐ ┌──┐ ┌──┐ ┌──┐ ┌──┐ ┌──┐ ┌──┐ ┌──┐ ┌──┐ ┌──┐ ┌──┐
  │ 1│ │ 2│ │ 3│ │ 4│ │ 5│ │ 6│ │ 7│ │ 8│ │ 9│ │10│ │11│
  └──┘ └──┘ └──┘ └──┘ └──┘ └──┘ └──┘ └──┘ └──┘ └──┘ └──┘
     1 - Pointer средство.
     2 - Dialog Box средства (многотиповое).
     3 - Button средства (многотиповое).
     4 - Check Box средство.
     5 - Radio Button средство.
     6 - Edit Сontrol средства (многотиповое).
     7 - Text средства (многотиповое).
     8 - Group Box средство.
     9 - List Box средство.
    10 - Combo Box средство.
    11 - Scroll Bar,  Icon и Custom Control средства (многоти-
         повые).

                       Pointer средство

     После выбора  средства Pointer средство автоматически ак-
тивизируется. Pointer позволяет рисовать с использованием выб-
ранного средства  или  позволяет  выбрать  диалоговое окно или
один или несколько элементов управления, которые можно переме-
щать или изменять их размер.

                     Dialog Box средство

     Используйте Dialog  Box  средство  для создания любого из
двух типов диалоговых окон:
     - стандартное диалоговое окно
     - диалоговое окно с заглавием
     По умолчанию,  диалоговое  окно с заглавием автоматически
рисуется, когда Вы создаете новый файл в Dialog Box редакторе.
Если вы  хотите  использовать стандартное диалоговое окно,  Вы
можете изменить тип диалогового окна в его окне атрибутов, что
описано выше в разделе "Диалоговые окна и их элементы управле-
ния". Альтернативно,  Вы можете дважды нажать с помощью  мышки
на Dialog средство. Это автоматически изменяет тип диалогового
окна, изображенного в данный момент в редактируемой области.
     После создания  диалогового  окна  Вы можете использовать
Dialog Attributes диалоговое окно для изменения его типа. Нап-
ример, стандартное  диалоговое окно можно изменить на диалого-
вое окно с заглавием, выбрав Caption зависимую кнопку в Dialog
Attributes диалоговом окне.
     Когда диалоговое окно создано,  можно создавать его  эле-
менты управления.  Вы можете также использовать Dialog Box ме-
ню, чтобы :
     - показать порядок табуляции элементов управления
     - показать идентификационный номер каждого  элемента  уп-
равления
     - показать логические группы элементов управления
     - установить разрешение решетки

                 Стандартное диалоговое окно

     Используйте Dialog Box средство для создания стандартного
диалогового окна. Стандартное диалоговое окно - это диалоговое
окно, которое не имеет полоски для заголовка. Создавайте стан-
дартное диалоговое окно,  когда Вы не хотите, чтобы диалоговое
окно  перемещалось внутри программы.

                 Диалоговое окно с заглавием

     Используйте Captioned  Dialog  Box  средство для создания
диалогового окна с заглавием. Диалоговое окно с заглавием име-
ет полоску,  в которой располагается заглавие. Создавайте диа-
логовое окно с заглавием,  когда вы хотите,  чтобы  диалоговое
окно перемещалось внутри программы.

                     Средства управления

     Средства справа  от  Dialog  Box средства в Tools палитре
являются средствами управления.  Используйте эти средства  для
определения всех следующих элементов диалогового окна:
     кнопки                   окна групп
     независимые кнопки       окна списка
     зависимые кнопки         комбинированные окна
     поля редактирования      линейки прокрутки
     статистический текст     пиктограммы

                    Многотиповые средства

     Вы, вероятно,  уже заметили, что нижний правый угол неко-
торых средств в Tools палитре закручен.  Это означает, что они
являются многотиповыми средствами - т.е.  они могут  создавать
более одного  типа  диалоговых  окон или элементов управления.
Например, Button средство является многотиповым средством, по-
тому что оно может создавать различные виды кнопок. Ниже пере-
числены многотиповые средства:
     dialog box средство             text средство
     button средство               scroll bar средство
     edit средство
     Чтобы перейти к опциям многотиповых средств,  дважды наж-
мите с  помощью  мышки  на  это средство.  Это изменяет данное
средство, а также выбирает его.

                            Кнопки

     Кнопки (называемые также командными  кнопками)  запускают
немедленное действие  без поддержки статуса включения/выключе-
ния. Resource Toolkit позволяет создать  стандартные  и  опре-
деленные по умолчанию кнопки.

                      Стандартные кнопки

     Используйте Button   средство  для  создания  стандартной
кнопки. Прежде  чем  можно  будет  активизировать  стандартную
кнопку, ее нужно выбрать. Создайте стандартную кнопку для каж-
дого действия,  которое не является определенным по  умолчанию
действием диалогового  окна.  Button  средство  выбирается  по
умолчанию. Это означает,  что Вам  не  нужно  выбирать  Button
средство перед началом протягивания мышки.

              Кнопки, определенные по умолчанию

     Используйте Default  Button средство для создания опреде-
ленной по умолчанию кнопки. Определенная по умолчанию кнопка -
это кнопка, которая автоматически выбирается при открытии диа-
логового окна программой.  Чтобы активизировать ее,  Вы обычно
нажимаете клавишу Enter.  Вы должны определять только одну оп-
ределенную по умолчанию кнопку для каждого диалогового окна.

                      Независимые кнопки

     Используйте Check Box средство для  предоставления  одной
или  более  опции,  которые  могут включаться или выключаться.
Каждый выбор, предлагаемый независимой кнопкой, является неза-
висимой и может быть включен или выключен. Например, решение о
том,  будет ли управление редактированием разрешать  несколько
строк  в текстовом вводе не зависит от того,  должен ли он со-
держать горизонтальную линейку прокрутки.
     Чтобы выделить  независимые кнопки в визуальную группу на
экране, используйте Group Box средство.

                       Зависимые кнопки

     Используйте Radio Button средство для предоставления ряда
опций ,  из  которых можно выбрать только одну опцию.  Все за-
висимые кнопки из данного множества должны быть определены как
логическая группа.  Чтобы  определить  элементы управления как
логическую группу,  выберите Start  Group  из  Controls  меню.
Controls меню описано ниже в данной главе.
     Чтобы выделить  зависимые кнопки  в  визуальную группу на
экране, используйте Group Box средство.

                     Настраиваемые кнопки

     Используйте Owner Draw средство для создания кнопки,  по-
ведение которой отличается от стандартного  поведения  кнопок,
независимых кнопок и зависимых кнопок;  она называется кнопкой
владельца чертежа. Преимущества создания кнопок владельца чер-
тежа состоит  в том, что они не ограничиваются в выводе текста
на экран. Например, кнопки, на которые вы нажимаете в Resource
Manager, чтобы начать работу редактора, являются кнопками вла-
дельца чертежа, выводящими на экран растры.
     С помощью  кнопок  владельца  чертежа программа несет от-
ветственность за внешний вид кнопок. Когда кнопка выбрана, ро-
дительское окно  "уведомляется"  и  также  получает  запрос на
изображение, инвертирование и отмену кнопки. Вам нужно опреде-
лить дополнительную поддержку для этих функций в исходном коде
программы.

             Элементы управления редактированием

     Элементы управления редактированием используются  главным
образом для ввода текста.  Они также могут выводить определен-
ный по умолчанию текст в поле редактирования. Resource Toolkit
позволяет создавать следующие типы элементов управления редак-
тированием:
     - одностроковое редактирование
     - многостроковое редактирование
     - многостроковое редактирование, допускающее вертикальную
прокрутку
     - многостроковое редактирование, допускающее вертикальную
и горизонтальную прокрутку

                     Статистический текст

     Используйте Text средство для вывода на  экран  статисти-
ческого текста.Например,текст  может  напоминать  о последова-
тельности действий или задавать вопрос.Или может помечать мет-
кой элемент управления редактированием.
     Text средство обеспечивает три опции форматирования:левое
выравнивание текста,правое выравнивание текста и центрирование
текста.

                         Окно группы

     Используйте Group Box средство для изображения титулован-
ной границы вокруг множества кнопок,независимых кнопок или за-
висимых кнопок,чтобы выделить его в виде визуальной группы.
     Окна групп не нужны для битового множества групп; они по-
казывают поведение групп без этого множества.  По этой причине
Start Group  в Controls меню всегда показана как проверенная и
отсутствующая для окон групп опция, и Group независимая кнопка
в Style диалоге окна группы не оказывает никакого действия.

                         Окна списков

     Используйте List  Box  средство для создания окна списка.
Окно списка позволяет  выбрать  элемент  из  списка  элементов
текста. Например,  Вы можете создать окно списка,  которое до-
пускает выбор одного имени файла из списка имен  файлов.  Если
текст в  окне слишком длинный для вывода за один раз,  то окна
списков имеют встроенную линейку прокрутки,  которая обеспечи-
вает вертикальную прокрутку.

                    Настройка окон списков

     Чтобы создать  окно  списка,  чье поведение отличается от
стандартного окна списка,  Вы можете создать окно списка  вла-
дельца чертежа.  Окна  списков  владельца чертежа имеют только
общие характеристики стандартных  окон  списков,  поэтому  Вам
нужно определить  их  функциональность  в исходном коде.  В то
время как стандартные окна списков изображают  свое содержание
сами, окна списков владельца чертежа этого не делают. Програм-
ма несет ответственность  за  визуальное  представление  таких
окон списков.  Например,  Вы  можете  использовать окно списка
владельца чертежа для  изображения  растров,  а  не  текстовых
строк.
     Чтобы определить окно списка владельца чертежа:
     1. Создайте стандартное окно списка.
     2. Откройте окно типов в этом окне списка одним  из  двух
способов:
     - нажмите клавишу Alt и дважды нажмите с помощью мышки на
окно списка.
     - выберите окно списка,  а затем выберите  Attributes  из
Controls меню.  В  окне  атрибутов  нажмите с помощью мышки на
Style кнопку.
     3. Выберите или Owner Draw Fixed или Owner Draw Variable:
     - Fixed:  Элементы в окне списка должны  быть  одинаковой
высоты.
     - Variable: Элементы в окне списка отличаются по высоте.

                     Комбинированные окна

     Используйте Combo Box средство для создания комбинирован-
ного окна. Комбинированные окна соединяют свойства окна редак-
тирования и окна списков:  они  позволяют  выбрать  элемент  в
списке элементов,  но они также разрешают набрать выбор в поле
редактирования.
     Вы можете создать следующие типы комбинированных окон:
     - простое комбинированное окно
     - спускающееся комбинированное окно
     - спускающееся комбинированное окно списка
     Чтобы создать любой тип комбинированного окна:
     1. Выберите Combo Box средство и нарисуйте окно. Это соз-
дает простое  комбинированное окно.  Если это тот тип, который
Вам нужен, то Вы завершили работу. В противном случае:
     2. Откройте  окно  типов  в комбинированном окне одним из
двух способов:
     - Нажмите на клавишу Alt и дважды нажмите с помощью мышки
на комбинированное окно.
     - Выберите    комбинированное    окно,   затем   выберите
Attributes из Controls меню.  В окне атрибутов нажмите  с  по-
мощью мышки на Style кнопку.
     3. Выберите нужный Вам тип комбинированного окна.

                 Простое комбинированное окно

     Простое комбинированное окно всегда выводит на экран  оба
свои свойства:  редактируемую область и окно списков. Редакти-
руемая область ведет себя также как элемент управления  редак-
тированием -  она  позволяет  вводить  и  редактировать текст.
Текст не должен совпадать с элементом списка  в  окне  списка.
Если это происходит, то соответствующий элемент списка выбира-
ется.
     В качестве альтернативы набору текста в редактируемой об-
ласти Вы можете выбрать элемент из окна списка. Окно  списка в
комбинированном окне ведет себя как стандартное окно списка.

              Спускающееся комбинированное окно

     Спускающееся комбинированное   окно  ведет  себя  подобно
простому комбинированному окну.  Однако,  когда это комбиниро-
ванное окно  открывается  в первый раз,  его область списка не
выводится на экран.  Чтобы вывести на  экран  область  списка,
нажмите на стрелку вниз справа от редактируемой области.
     Спускающиеся комбинированные окна полезны, когда Вы хоти-
те расположить много элементов управления в небольшой области.
Вначале они занимают только столько пространства,  сколько не-
обходимо редактируемой области. Когда открывается окно списка,
оно перекрывает диалоговое окно и не  требует  дополнительного
пространства.
     Спускающееся комбинированное окно  полезно  использовать,
когда Вы  хотите предоставить список выборов,  но не разрешать
альтернативный выбор. Например, Вы можете использовать спуска-
ющееся комбинированное окно в диалоговом окне для открытия или
сохранения дисковых файлов. Вы можете использовать окно списка
для поиска  дисков с существующим именем файла,  или использо-
вать поле редактирования для ввода имени нового или существую-
щего файла.

           Спускающееся комбинированное окно списка

     Спускающееся комбинированное окно списка подобно спускаю-
щемуся комбинированному окну.  Оно имеет область списка, кото-
рая спускается вниз,  когда необходимо и сжимается,  когда она
не нужна. Однако, эти окна отличаются поведением их редактиру-
емых областей. В то время как редактируемая область спускающе-
гося комбинированного окна позволяет вводить любой текст,  ре-
дактируемая область спускающегося комбинированного окна списка
позволяет вводить только элемент из  окна  списка.  Вы  можете
выбрать элемент из окна списка или набрать его в редактируемой
области, но Вы не можете ввести элемент,  которого нет в  окне
списка.
     Спускающиеся комбинированные окна списка полезно  исполь-
зовать в  случаях,  когда  допустимо  только выборы из списка.
Например, даже если компьютер может соединяться с  несколькими
принтерами, Вы  можете  выбрать из них только один принтер для
печати в любой момент времени.

                Настройка комбинированных окон

     Чтобы создать комбинированное  окно,  поведение  которого
отличается от ранее определенных комбинированных окон,  Вы мо-
жете создать комбинированное окно владельца  чертежа.  Преиму-
щества от  создания  комбинированных  окон  владельца  чертежа
состоит в том,  что они не  ограничиваются  выводом  на  экран
текстовых строк. Например, они могут выводить на экран растры.
     Комбинированные окна владельца чертежа имеют только общие
характеристики стандартных  комбинированных окон,  поэтому Вам
необходимо определить их функциональность в исходном  коде.  В
то время как ранее определенные комбинированные окна изобража-
ют содержание своих окон списков,  комбинированные  окна  вла-
дельца чертежа этого не делают. Программа отвечает за визуаль-
ное содержание окна списка в комбинированном окне.
     Чтобы определить  комбинированное окно владельца чертежа,
выберите или Owner Draw  Fixed,  или  Owner  Draw  Variable  в
Styles диалоге комбинированного окна:
     - Fixed:  Элементы в окне списка должны иметь  одинаковую
высоту.
     - Variable: Элементы в окне списка отличаются по высоте.

                      Линейки прокрутки

     Используйте Scroll Bar средство для  создания  автономной
линейки прокрутки  в диалоговом окне.  Элементы управления ре-
дактированием, окна списков и комбинированные окна имеют  свои
собственные присоединенные линейки прокрутки и им не нужны ав-
тономные линейки прокрутки.
     Автономную линейку  прокрутки полезно использовать в диа-
логовом окне, которому необходимо более одной вертикальной или
горизонтальной прокрутки.  Например,  графические  редакторы в
Resource Toolkit используют цветовые палитры  для  изображения
растров. Вы  можете  редактировать цвет в палитре, изменив его
сочетание красного,  зеленого и  голубого  цветов.  Чтобы  до-
пустить возможность  изменения  этого сочетания редакторы пре-
доставляют диалоговое окно с тремя автономными линейками прок-
рутки.
     Scroll Bar средство позволяет создавать линейки прокрутки
со стандартной или настраиваемой шириной.

                Стандартная линейка прокрутки

     Используйте Standard Scroll Bar средство для создания ли-
нейки прокрутки со стандартной шириной. Ширину стандартной ли-
нейки прокрутки нельзя изменить.

            Линейка прокрутки с переменной шириной

     Используйте Scroll  Bar  средство  для  создания  линейки
прокрутки, ширину которой можно изменить.

                         Пиктограммы

     Используйте Icon средство для создания окна, внутри кото-
рого можно поместить пиктограмму.  Windows автоматически опре-
деляет размеры этого окна, поэтому все что Вы можете сделать -
это расположить его в том месте, где должна появляться пиктог-
рамма во время диалога.

                 Заказные элементы управления

     Используйте Custom Control средство  для  создания  окна,
внутри которого  можно разместить заказной элемент управления,
предоставляя ему характеристики, отсутствующие у любого друго-
го средства управления.
     Заказной элемент управления должен иметь библиотеку дина-
мической связи (DLL), которая определяет Windows процедуру для
этого элемента управления,  а также функции,  которые  взаимо-
действуют с Dialog Box редактором.

                      Alignment палитра

     Вы можете выравнить элементы управления внутри диалогово-
го окна,  используя или Alignment палитру, или Alignment меню.
Это позволяет Вам:
     - настроить положение выбранного множества элементов  уп-
равления. Элементы  управления  можно выравнивать относительно
верхней, нижней,  левой и правой границы или центра одного  из
элементов управления множества. Или они могут равномерно расп-
ределяться по высоте или ширине диалогового окна.
     - настроить  размер выбранного множества элементов управ-
ления, сделав их все одинаковыми.
     Элемент управления,  используемый  как стандарт или якорь
при настройке - это всегда первый элемент,  выбранный во  мно-
жестве.Таким образом,  если Вы выбираете два элемента управле-
ния, а затем нажимаете с  помощью  мышки  на  Make  Same  Size
средство, то  второй  выбранный элемент управления будет иметь
такой же размер, как первый.
     На рисунке  6.2 показана Alignment палитра.  Обычно,  Вам
понадобится использовать  средство  выравнивания  каждый  раз,
когда Вы  создаете два или более элементов управления одинако-
вого типа внутри диалогового окна. Это способ, который обеспе-
чивает правильное  выравнивание и пропорциональность элементов
управления.
                Рисунок 6.2 Alignment палитра
  ┌───┐ ┌───┐ ┌───┐ ┌───┐ ┌───┐ ┌───┐ ┌───┐ ┌───┐ ┌───┐
  │  1│ │  2│ │  3│ │  4│ │  5│ │  6│ │  7│ │  8│ │  9│
  └───┘ └───┘ └───┘ └───┘ └───┘ └───┘ └───┘ └───┘ └───┘
     1 - Center on Horizontal средство.
     2 - Align Top средство.
     3 - Align Right средство.
     4 - Center on Vertical средство.
     5 - Align Left средство.
     6 - Align Bottom средство.
     7 - Spread Horizontally средство.
     8 - Spread Vertically средство.
     9 - Make Same Size средство.

                    Средства выравнивания

     Средства выравнивания  находятся  на  Alignment  палитре.
Средства выравнивания позволяют  выбрать  элемент  управления,
используемый в  качестве якоря,  а затем выбрать множество до-
полнительных элементов управления для организации их  в  соот-
ветствии с  якорем.  В  таблице 6.1 описаны действия,  которые
можно выполнить.
     Чтобы выравнить элементы управления:
     - Выберите элемент управления,  который Вы хотите исполь-
зовать в качестве якоря для выравнивания.
     Примечание. Если Вы распределяете элементы управления  по
ширине или высоте диалогового окна, то этот первый элемент уп-
равления не используется в качестве якоря. Он будет просто од-
ним из  элементов управления,  позиция которого будет настраи-
ваться.
     - Нажмите  и  не  отпускайте клавишу Shift и выберите все
дополнительные элементы управления,  которые Вы хотите  вырав-
нить.
     - Выберите средство выравнивания из палитры, нажав на не-
го с помощью мышки.
              Таблица 6.1 Средства выравнивания
──────────────────────────────────────────────────────────────
     Средство                  Функция
──────────────────────────────────────────────────────────────
     Align left      Выравнивает все выбранные элементы управ-
                     ления по левой границе якоря.Вертикальная
                     позиция  каждого  отдельного элемента уп-
                     равления не изменяется.
     Align right     Выравнивает все выбранные элементы управ-
                     ления по правой границе якоря. Вертикаль-
                     ная позиция каждого  отдельного  элемента
                     управления не изменяется.

     Align top       Выравнивает все выбранные элементы управ-
                     ления  по верхней  границе якоря.Горизон-
                     тальная  позиция  каждого отдельного эле-
                     мента управления не изменяется.

     Align bottom    Выравнивает все выбранные элементы  управ-
                     ления по  нижней  границе  якоря. Горизон-
                     тальная  позиция  каждого отдельного  эле-
                     мента управления не изменяется.

     Center on       Выравнивает центр всех выбранных элементов
     horizontal      управления по горизонтальной оси якоря.Го-
                     ризонтальная позиция каждого элемента  уп-
                     равления не изменяется.
     Center on       Выравнивает центр всех выбранных элементов
     vertical        управления по вертикальной оси якоря. Вер-
                     тикальная позиция каждого элемента  управ-
                     ления не изменяется.
     Spread          Равномерно распределяет выбранные элементы
     horizontally    управления по ширине диалогового окна.
     Spread          Равномерно распределяет выбранные элементы
     vertically      управления по высоте диалогового окна.
     Make same       Делает все выбранные  элементы  управления
     size            такого же размера, как якорь.
──────────────────────────────────────────────────────────────

                             Меню

     Этот раздел  описывает в общих чертах меню Dialog Box ре-
дактора, за исключением File и Edit меню,  которые  описаны  в
главе 10.

                         Dialog меню

     Dialog меню предоставляет следующие опции:
     - Attributes: Открывает Attributes окно, которое позволя-
ет определить атрибуты для диалогового окна. Определение атри-
бутов описано в данной главе.
     - Show  Tab Order:  Показывает порядок перемещения фокуса
по элементам управления диалогового окна при нажатии на клави-
шу Tab в программе. Этот порядок показан посредством выведения
на экран красных номеров в верхнем левом углу каждого элемента
управления. Эти  номера начинаются с единицы и последовательно
увеличиваются. Чтобы изменить  порядок  табуляции  посредством
изменения номера табуляции для некоторого элемента управления,
используйте Controls меню.
     - Show  Item  ID:  Выводит на экран идентификатор каждого
элемента управления.  Этот идентификатор выводится  в  голубом
цвете в  нижнем левом углу каждого элемента управления.  Чтобы
изменить идентификационный номер,  используйте окно  атрибутов
данного элемента управления, как описано выше в этой главе.
     - Show Item Group:  Использует  шаблонные  прямоугольники
для представления групп элементов управления. Все элементы уп-
равления одной и той же группы показываются как прямоугольники
одинакового образца.  Чтобы  определить  логические группы для
элементов управления, используйте Controls меню.
     - Grid  Items:  Позволяет  установить разрешение решетки,
которое определяет размещение элементов управления.  Например,
установка разрешения  решетки равным 2 означает,  что элементы
управления могут размещаться только в точках с четными коорди-
натными значениями внутри диалогового окна.
     - Palettes On Bottom:  Располагает Tools и Alignment  па-
литры ниже редактируемой области в Dialog Box редакторе.
     - Palletes On Top:  Располагает Tools и Alignment палитры
выше редактируемой области в Dialog Box редакторе.
     - Swap Palletes:Меняет местами Tools и Alignment палитры.
     - Show Header: Выводит на экран редактор файла заголовков
- предполагая,  что  Вы  открыли   файл   заголовков,   выбрав
File│Open Header  из меню Dialog Box редактора.  Если редактор
файла заголовков выведен в данный момент времени на экран,  Вы
можете спрятать  его  с помощью этого выбора.  Более подробная
информация о файлах заголовков  и  редакторе  файла  заголовка
приведена в главе 9.

                        Controls меню

     Controls меню предоставляет следующие опции:
     - Attributes: Открывает диалоговое окно атрибутов выбран-
ного в  данный  момент элемента управления,  которое позволяет
определить атрибуты для этого элемента управления. Определение
атрибутов описано выше в данной главе.
     - Set Tabstop: Включает бит позиции табуляции в выбранном
в данный  момент  элементе  управления.  Это позволяет данному
элементу управления получать фокус при нажатии на клавишу  Tab
в программе.  Включите или выключите Tabstop.
     По умолчанию,  новые элементы управления,  за исключением
статистики, окна  группы,  пиктограммы и заказные элементы уп-
равления определяются как позиции табуляции.
     Чтобы удалить статус позиции табуляции из элемента управ-
ления, определенного в данный момент в качестве позиции  табу-
ляции, выберите  этот  элемент управления,  затем выберите Set
Tabstop из Controls меню, чтобы выключить статус позиции табу-
ляции.
     - Start Group:Определяет элементы управления как элементы
логической группы. Логическая группа определяет множество эле-
ментов управления,  внутри которого фокус ввода может  переме-
щаться с помощью клавиш - стрелок.
     Чтобы определить элементы  управления  в  качестве  логи-
ческой группы,  выберите  элемент  управления ,  который будет
первым членом новой группы,  затем  выберите  Start  Group  из
Controls меню.  Это возвращает включенное значение Start Group
для выбранного элемента управления.  Любые новые элементы  уп-
равления, размещаемые  в  диалоговом  окне после этого выбора,
становятся частью этой группы.
     Для групп,  которые уже определены, можно изменить состав
группы, используя Group Together в Controls меню.
     Start Group  включается  или выключается для данного эле-
мента управления.  Если Start Group  включена  для  некоторого
элемента управления и Вы хотите ее выключить ( возможно, чтобы
изменить принадлежность этого элемента управления  к  группе),
то выберите этот элемент управления,  откройте Controls меню и
выключите  Start Group  опцию.
     Примечание. Для  окон  групп  Start Group всегда показана
как проверенная и отсутствующая опция.
     - Move  Forward:  Перемещает выбранный элемент управления
вперед на одну позицию табуляции.  Например, если Вы выбираете
элемент управления со значением порядка табуляции, равным 6, а
затем выбираете Move Forward, то этот элемент управления пере-
мещается на позицию 5.  Элемент управления, ранее находившийся
в позиции 5, перемещается в позицию 6. Остальной порядок табу-
ляции не изменяется.
     - Move Backward:  Перемещает выбранный элемент управления
назад на одну позицию табуляции.  Например,  если Вы выбираете
элемент управления со значением порядка табуляции, равным 3, а
затем выбираете Move Backward,  то этот элемент управления пе-
ремещается на позицию 4.  Элемент управления,  ранее  находив-
шийся в позиции 4, перемещается в позицию 3. Остальной порядок
табуляции не изменяется.
     - To  Bottom  of Tab Order:  Перемещает выбранный элемент
управления на последнюю позицию табуляции. Все элементы управ-
ления, находящиеся после выбранного элемента управления, пере-
мещаются вверх на одну позицию.
     - To  Top of Tab Order:  Перемещает выбранный элемент уп-
равления на первую позицию табуляции. Все элементы управления,
находящиеся перед выбранным элементом управления, перемещаются
назад на одну позицию.
     - Group Together:  Создает новую группу. Чтобы определить
группы элементов управления, выберите элементы управления, ко-
торые Вы  хотите сгруппировать вместе,  а затем выберите Group
Together из Controls меню.  Это объединяет все выбранные  эле-
менты управления в одну группу и перемещает их в верхнюю часть
порядка табуляции.
     Эта операция не работает, если несколько элементов управ-
ления из группы,  которые выбираются  на  первом  шаге,  имеют
включенную опцию Start Group.

                          Tools меню

     Вы можете   использовать   Tools  меню  как  альтернативу
использования средств в Tools палитре. В разделах "Dialog  Box
средство" и "Средства управления" описано каждое средство.

                        Alignment меню

     Вы можете  использовать  Alignment  меню как альтернативу
использования средств в Alignment палитре. В разделе "Средства
выравнивания" описано каждое средство выравнивания.





