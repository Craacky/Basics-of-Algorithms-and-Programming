                           ГЛАВА 10

                     ОБЩИЕ КЛАВИШИ И МЕНЮ

     Каждый из Resource Toolkit редакторов описан в  отдельных
главах данного руководства. Однако, ряд редакторов имеют общие
функции:
     - Accelerator, String и Menu редакторы используют таблицы
для введения текста из значений.  Большинство клавиш , исполь-
зуемых Вами  для  управления таблицами,  работают одинаково во
всех этих редакторах.  Исключение или  дополнительные  клавиши
отмечаются в специальной главе редактора.
     - Все редакторы имеют одни и те же  опции  для  их  File,
Edit и Header меню.
     Так как эти функции принимают участие во многих  редакто-
рах, они описаны вместе в этой главе.

                    Редактирование таблицы

     Таблицы в Accelerator, String и Menu редакторах имеют по-
ля, которые Вы можете редактировать и поля,  которые позволяют
Вам выбрать одну из нескольких доступных опций. Вы используете
эти поля одинаковым образом во всех редакторах.
     Индикаторы поля и строки.
     Таблицы используют индикатор поля для того,  чтобы  пока-
зать какое поле в таблице является активным,а индикатор строки
для того,чтобы показать какая  строка  содержит  активное  по-
ле.Индикатор поля  - это прямоугольная рамка,окружающая актив-
ное поле,а индикатор строки - это стрелка в левом поле  табли-
цы.На следующем рисунке показана строковая таблица.В этой таб-
лице индикаторы показывают,что активным полем является  String
Text поле для Value 2.
      Рисунок 10.1 Строковая таблица в String редакторе
  ╔═[■]═════════════════════════════════════════════[°][∙]═╗
  ║                String:(untitled)(unnamed)              ║
  ║────────────────────────────────────────────────────────║
  ║ File  Edit  Header  Options  Help                      ║
  ║────────────────────────────────────────────────────────║
  ║  Value             String Text                         ║
  ║─┬────────────┬──────────────────────────────────────── ║
  ║ │0           │ Assignment out of range                 ║
  ║ │1           │ Cannot be changed                       ║
  ║ │            │┌──────────────────────────────────────┐ ║
  ║>│2           ││Divide by zero                        │ ║
  ║ │            │└──────────────────────────────────────┘ ║
  ║ │3           │ Error writing file to disk              ║
  ║ │4           │ Invalid instruction                     ║
  ║ │5           │                                         ║
  ║ │6           │                                         ║
  ║ │7           │                                         ║
  ║ │8           │                                         ║
  ╚═══════════════════════════════════════════════════════─┘

                     Управление таблицей

     Управляйте таблицей таким же образом ,  как Вы управляете
электронной таблицей или базой данных,используя следующие кла-
виши:
   ───────────────────────────────────────────────────────────
     Клавиша        Действие
   ───────────────────────────────────────────────────────────
     °         Перемещает активное поле на одну строку вверх.
     ∙         Перемещает активное поле на одну строку вниз.
     Tab       Перемещает на один столбец вправо.
     Shift-Tab Перемещает на один столбец влево.
     Ў         Перемещает курсор на одну позицию вправо в ак-
               тивном поле.В некоторых таблицах,если активное
               поле  не является полем редактирования,клавиша
               'стрелка вправо' перемещает  активное поле  на
               один столбец вправо.
     ў         Перемещает курсор на одну позицию влево в  ак-
               тивном поле.В некоторых таблицах,если активное
               поле не является полем редактирования, клавиша
               'стрелка влево' перемещает  активное  поле  на
               один столбец влево.
     Home      Перемещает курсор на начало активного поля.
     End       Перемещает курсор на конец активного поля.
   ───────────────────────────────────────────────────────────

              Набор текста в поле редактирования

     Если Вы активизируете поле из любого столбца полей редак-
тирования,то выбирается весь текст в данном поле.
     - Для  замены  текста  начинайте набор текста или нажмите
Del.
     - Для сохранения текста переместите курсор в поле(исполь-
зуя мышку,клавиши-стрелки,End или Home клавиши).Затем Вы може-
те отредактировать некоторую часть текста.
     Кроме этого,таблицы используют стандартные Windows клави-
ши для выбора текста,как показано в следующей таблице:
   ───────────────────────────────────────────────────────────
     Клавиша        Действие
   ───────────────────────────────────────────────────────────
     ShiftЎ         Выбирает символ,находящийся на одну пози-
                    цию справа.
     Shiftў         Выбирает символ,находящийся на одну пози-
                    цию слева.
     Shift-End      Выбирает все символы от текущей   позиции
                    курсора до конца строки.
     Shift-Home     Выбирает все символы от текущей   позиции
                    курсора до начала строки.
   ───────────────────────────────────────────────────────────

                  Выбор опций в поле выбора

     Некоторые поля в таблицах позволяют выбирать  одну  опцию
из ряда  доступных опций.Во всех этих полях используйте один и
тот же метод для выбора опции:
     - Для  циклического  прохода  по доступным выборам в поле
нажмите SpaceBar.
     - Альтернативно,наберите  первую  букву выбора.Например,в
Yes/No поле ,если Yes является текущим значением,то нажмите  N
клавишу для перехода к No.

                      Использование меню

     Простейшим способом  проведения  выборов  меню   является
использование Вашей мышки. Однако, Resource Toolkit рассматри-
вает стандартные способы использования клавиатуры  для  работы
меню:
     - Когда активна линейка меню,  откройте Control-box  меню
посредством нажатия Spacebar.
     - Активизируйте линейку меню нажатием Alt или F10.
     - Выберите опцию меню,  нажав на букву, которая подчерки-
вается для нее, или используйте клавиши стрелок для выбора оп-
ций, а затем нажмите Enter.
     - Отмените любой выбор меню нажатием ESC.
     - Переключения между двумя последними используемыми окна-
ми проводятся посредством нажатия Alt-Tab .  Это  действие  не
будет оказывать влияние на минимизированные окна.
     - Все  переключения  между  открытыми  окнами  проводятся
посредством нажатия  Alt с удерживанием этой клавиши в нажатом
положении и повторном нажатии Tab. Когда Вы достигнете необхо-
димого Вам для работы окна, то освободите Alt клавишу.
     Многие опции меню могут также реализовываться  с  помощью
клавиш акселератора  ("горячих" клавиш).  Там где они применя-
ются, акселераторы  перечисляются  в  правой  части  от  соот-
ветствующей опции меню.

                          File меню

     File меню  в каждом редакторе позволяет Вам создавать но-
вые файлы, работать с существующими файлами или определять ат-
рибуты ресурсов.
     File меню в Accelerator, Dialog Box, Menu и String редак-
торах также  позволяет Вам открыть файл заголовков,  так чтобы
Вы могли провести корреляцию констант,  определенных  в  файле
заголовков с   помощью  ресурса  в  Вашем  текущем  редакторе.
Bitmap, Cursor и Icon редакторы не используют файлы заголовков
и, поэтому не обеспечивают эту опцию.

                             New

     New очищает  редактор  и  открывает новый неозаглавленный
файл. Используйте его для удаления текущего ресурса из  редак-
тора и введения нового ресурса.
     - Если ресурс сохраняется в редакторе, то новый файл отк-
рывается немедленно.
     - Если ресурс не сохраняется в редакторе,  то  диалоговое
окно открывается  для  запроса о том,  желаете ли Вы сохранить
сделанные изменения в файле:
       - Нажмите с помощью мышки на Yes для сохранения измене-
       ний . Это открывает диалоговое окно так, чтобы Вы могли
       дать имя файлу. Если  Вам  необходимы инструкции по ис-
       пользованию диалогового окна, то смотрите раздел в гла-
       ве 3 по созданию нового файла ресурсов.
       - Нажмите с помощью мышки No, чтобы отбросить изменения.

                             Open

     Open очищает редактор и  загружает  в  него  существующий
файл. Используйте   для удаления текущего ресурса из редактора
и поиска содержимого из существующего ресурса.
     Примечание. Смотрите  главу 3 для получения инструкций по
открытию существующего файла и выбору индивидуального  ресурса
для редактирования.
     - Если ресурс был сохранен в редакторе,  то  существующий
файл открывается немедленно.
     - Если ресурс не сохранялся в редакторе,  то  открывается
диалоговое окно для запроса, желаете ли Вы сохранить сделанные
изменения в файле:
       - Нажмите   с   помощью   мышки  на  Yes  для  сохране-
         ния изменений.  Это открывает  диалоговое  окно  так,
         чтобы Вы могли присвоить имя файлу.  Если Вам необхо-
         димы инструкции по использованию диалогового окна, то
         смотрите Save As.
       - Нажмите с помощью мышки на No для удаления изменений.
     Процедура открытия файла с помощью File│Open такая же как
и при использовании Open кнопки в Resource Manager для его от-
крытия. Однако, после того как файл открыт, тип ресурса, кото-
рый Вы можете редактировать,  автоматически выбирается для Вас
текущим редактором  -  Вы не можете проводить выбор среди всех
типов ресурсов, сохраняемых в файле.

                             Save

     Save сохраняет текущий ресурс под его первоначальным име-
нем. Используйте его для сохранения ресурса, затем продолжайте
работу с ним.  Если ресурс не был первоначально взят из файла,
а был создан в новом файле,  то Save работает также как и Save
As.

                           Save As

     Save As  сохраняет  текущий  ресурс  под  другим  именем.
Используйте его когда
     - Вы создали новый ресурс и желаете его сохранить.
     - Вы открыли и модифицировали существующий ресурс и жела-
ете сохранить модифицированный ресурс без изменения оригиналь-
ного ресурса.
     Вы можете использовать Save As для создания таких файлов,
как: .BMP   (Bitmap  редактор),  .CUR  (Cursorредактор),  .DLG
(Dialog Box редактор), .ICO (Icon редактор), .RC (Accelerator,
Menu и  String  редакторы)  и .RES (все редакторы).  Вы можете
сохранять в новом или существующем .RES файле.  Если Вы сохра-
няете в существующем .RES файле, то Save As функционирует так-
же , как Save Into.
     Когда Вы нажимаете Save As, то открывается File Save диа-
логовое окно, так что Вы можете присвоить имя ресурсу. Имеющи-
еся файлы  перечисляются  в окне файлов диалогового окна,  при
этом текущий каталог идентифицируется выше  окна.  Directories
окно показывает имеющиеся каталоги.
     Для сохранения файла в другом каталоге, измените каталог.
Вы можете или создать новый файл, или заменить один из сущест-
вующих файлов, которые выводятся на экран в File окне.
     Для того, чтобы создать новый файл в File окне:
     1. Установите тип  файла,  который  Вы  желаете  создать,
используя File Type зависимые кнопки. Эти зависимые кнопки на-
ходятся справа от окон выбора.  Для определения каждого из ти-
пов файлов смотрите главу 1.
     2. Расположите курсор в поле записи и  наберите  имя  для
файла. Не  включайте  расширение файла;  расширение берется из
File type зависимой кнопки.
     Для замены ресурса с таким же именем в одном из существу-
ющих файлов, перечисленных в File окне:
     - Выберите  файл.  Это автоматически скопирует имя в поле
записи, а также произведет выбор соответствующей File Type за-
висимой кнопки.
     При завершении этой процедуры,  нажмите с  помощью  мышки
Save кнопку диалогового окна.
     - Если Вы создали новое имя файла,  это создаст  файл  на
диске.
     - Если Вы заменяете ресурс из существующего файла, то это
открывает диалоговое окно для подтверждения замены:
       - Yes заменяет существующий файл.
       - No возвращает Вас к диалоговому окну так,  чтобы  Вы
         могли определить другое имя файла.
     Внимание! Если Вы нажмете Yes , то новый файл сохраняется
на диске ,  заменяя существующий файл. Не выбирайте Yes до тех
пор, пока не убедитесь в том,  что Вы желаете заменить сущест-
вующий файл.
     После того,  как  файл сохраняется,  его имя выводится на
экран в прямоугольном заголовке редактора.

                          Save Into

     Save Into сохраняет текущий ресурс в  существующем  файле
ресурса (.REC) , выполняемом файле (.EXE) или в библиотеке ди-
намических связей (DLL),  а также в существующих .BMP  (Bitmap
редактор), .CUR  (Cursor редактор) и .ICO (Icon редактор) фай-
лах. В каждом из этих трех случаев Save Into  проводит  запись
по существующему ресурсу,  сохраненному в этом файле,  заменяя
его на  текущий ресурс.
     Примечание. Вы  не можете использовать Save Into для сох-
ранения ресурса в новом файле ни тогда,  когда Вы этого желае-
те, ни тогда, когда это необходимо. Непосредственно используй-
те Save.
     Добавление нового  ресурса в .EXE и DLL файлах не обеспе-
чивает возможность его  использования.  Вы  должны  определить
функциональность для ресурса в Вашем исходном тексте.
     .RES, .EXE и DLL файлы сохраняют множество ресурсов. Поэ-
тому Вы должны присваивать имя каждому ресурсу, который Вы мо-
жете сохранять в одном из этих типов файлов. Если Вы присвоите
ресурсу уникальное  имя,  то  новый ресурс добавляется в файл.
Если Вы присвоите имя,  уже использованное другим  ресурсом  в
файле, то Save Into предоставит Вам опцию замены существующего
ресурса, либо  сохранения  существующего  ресурса,   благодаря
присвоению другого имени текущему ресурсу,  который Вы старае-
тесь сохранить.
     Когда Вы  нажмете  Save Into ,  то открывается диалоговое
окно,  позволяющее присвоить имя файлу:
     - Если файл,  который Вы хотите сохранить, не находится в
текущем справочнике, то измените справочник.
     - Выберите файл, который Вам необходим. Это автоматически
скопирует имя файла в Filename поле,  а также произведет выбор
соответствующей File Type зависимой кнопки.
     - Нажмите с помощью мышки на OK кнопку диалогового  окна.
Это добавит текущий ресурс в выбранный файл.

                          New Header

     В Accelerator,Dialog  Box,Menu  или String редакторах New
Header команда создает новый файл заголовков,так чтобы Вы мог-
ли определить  новые константы в файле заголовков так,чтобы Вы
могли определить новые константы в файле заголовков и провести
их корреляцию  с  помощью ресурсов,которые Вы определили в ре-
дакторе.
     New Header добавляет Symbol столбец в таблицу редактора,а
также открывает специальный  редактор  файла  заголовков.Более
подробную информацию  о  файлах заголовков и инструкции по ре-
дактированию обозначений смотрите в главе 9.

                         Open Header

     В Accelerator,Dialog Box,Menu или String редакторах  Open
Header открывает  существующий  файл  заголовков  так,чтобы Вы
могли провести корреляцию констант из файла заголовков  с  по-
мощью ресурсов,которые  Вы  определили в редакторе.Open Header
добавляет Symbol столбец в таблицу редактора,а также открывает
специальный редактор файла заголовков.Более подробную информа-
цию о файлах заголовков и инструкции по редактированию обозна-
чений смотрите  в главе 9.Смотрите также раздел о файлах заго-
ловков в  главах,описывающий  Accelerator,Dialog  Box,Menu   и
String редакторы.

                     Resource Attributes

     Resource Attributes  открывает Resource Attributes диало-
говое окно ,которое позволяет определять атрибуты для текущего
ресурса.
     1.Выберите атрибуты,которые Вы желаете применить к  теку-
щему ресурсу;атрибуты,которые  не  применяются  в определенном
редакторе,являются недоступными в диалоговом окне.
     2.Значениями,определенными по  умолчанию,являются Load On
Call,Moveable и Discardable для всех типов ресурсов ,за исклю-
чением растров.Для растров значениями,определенными по умолча-
нию,являются Load On Call и Moveable.Вы можете выбрать  значе-
ния,определяемые по  умолчанию для типа ресурса,который Вы ре-
дактируете,посредством простого нажатия  с  помощью  мышки  на
кнопку Default,не выбирая отдельно каждый атрибут.
     - Name - имя ресурса.Именем может быть номер или алфавит-
но-цифровое имя.Если  Вы измените имя в этом поле,  то оно эф-
фективно работает подобно Save As:  оно сохраняет  ресурс  под
новым именем без воздействия на первоначальный ресурс.
     - Discardable определяет,  что Windows  должна  сохранять
ресурс в памяти,  даже когда он не используется. Когда Windows
нуждается в  большем  количестве   памяти,   она   отбрасывает
ресурсы, определяемые  как  Discardable,  до тех пор,  пока не
приобретет необходимое количество памяти. Если ресурс не опре-
деляется как Discardable, то Windows не будет отбрасывать этот
ресурс, когда  ей  требуется  память.  Типично,   пиктограммы,
курсоры и строки определяются как Discardable,  потому что они
только читаемые и Windows может отбросить их  без  осложнений.
Отбрасываемые ресурсы должны быть также подвижны.
     - Load On Call определяет,  что Windows загружает  ресурс
только тогда, когда он вызывается из программы. Выбирайте Load
On Call,  если только Вашей программе ресурс  нужен  не  сразу
после начала выполнения.
     - Preload определяет ,  что этот ресурс загружается в па-
мять, когда   начинается   выполнения   программы.   Выбирайте
Preload, когда Вы знаете, что Вашей программе необходим ресурс
сразу после того, как она начинает выполнение.
     - Moveable определяет6 что Windows может перемещать  этот
ресурс на другое место в памяти,  если ей требуется память для
чего-нибудь еще.  Типично,  растры являются подвижными,  но не
отбрасываемыми. Это  происходит потому,  что Windows позволяет
растрам быть модифицируемыми в пределах программы и  модифици-
рованные ресурсы не могут отбрасываться.
     - Fixed определяет,  что ресурс не может  перемещаться  в
памяти, а остается в фиксированном месте.
     3. Нажмите с помощью мышки на кнопку  OK;  это  означает,
что программа принимает текущие выборы в диалоговом окне.

                          Edit меню

     Основные Edit опции (Cut, Copy, Paste и Clear) имеются во
всех редакторах.  Некоторые из редакторов имеют дополнительные
Edit опции, которые также описываются в этом разделе.
     Edit меню всегда показывают доступные операции редактиро-
вания в то время,  когда выбирается меню.  Поэтому,  например,
если Вы не удаляете или  не  копируете  что-нибудь,  то  опция
Paste является недоступной.
                            ┌────┐  ┌──┐
                      Undo  │Ctrl│  │U │
                            └────┘  └──┘
     В Bitmap,  Cursor,  Dialog Box и Icon редакторах Undo ре-
версирует последнюю модификацию редактора, которую Вы сделали.
                           ┌─────┐ ┌───┐
                      Cut  │Shift│ │Del│
                           └─────┘ └───┘
     В Bitmap,  Cursor,  Dialog Box , Icon и String редакторах
Cut удаляет  выбранный текст или выбранную область и сохраняет
их в Clipboard.  Удаляемая информация может выбираться  с  по-
мощью Paste.  Используйте Cut для перемещения текста или части
графического изображения с одного места на другое или  даже  в
другую программу.
     Информация, которую Вы удаляете,  остается в Clipboard до
тех пор,  пока  не  заменится другими Cut или Copy опциями или
информацией, которую Вы удаляете из другой программы.
                             ┌─────┐ ┌───┐
                    Cut Row  │Shift│ │Del│
                             └─────┘ └───┘
     В Accelerator и Menu редакторах Cut Row  очищает  текущую
строку, а не выбранный текст и копирует ее в Clipboard. В про-
тивном случае она действует также как и Cut опция.
                            ┌────┐ ┌───┐
                      Copy  │Ctrl│ │Ins│
                            └────┘ └───┘
     В Bitmap,  Cursor,  Dialog Box , Icon и String редакторах
Copy копирует выбранный текст или выбранную область и сохраня-
ет их в Clipboard. Скопированная информация может выбираться с
помощью Paste.  Используйте  Сopy  для  копирования текста или
части графического изображения с одного места на другое,  даже
в другую программу.
     Скопированная информация остается в Сlipboard до тех пор,
пока не будет заменена другими Cut или Сopy опциями или инфор-
мацией, которую Вы удалили из другой программы.
                              ┌────┐ ┌───┐
                    Copy Row  │Ctrl│ │Ins│
                              └────┘ └───┘
     В Accelerator и Menu редакторах Copy Row копирует текущую
строку, а  не  выбранный  текст и сохраняет ее в Clipboard.  В
противном случае, она действует также как и Copy опция.
                            ┌─────┐ ┌───┐
                     Paste  │Shift│ │Ins│
                            └─────┘ └───┘
     Paste копирует  содержимое  Clipboard  (накопленное  Cut,
Copy или  иной программы) в редактор.  Содержимое Clipboard не
изменяется. Таким образом,  Вы можете ставить его снова в дру-
гую область или в другую программу.
     - В Bitmap,  Cursor и Icon редакторах определите область,
в которую Вы желаете произвести вставку. Если определенная Ва-
ми область меньше, чем содержимое Clipboard, то Paste копирует
все, что  входит  в  пределы ограниченной области,  измеряя от
верхнего левого угла как Clipboard, так и выбранной области.
     - В  Dialog Box редакторе содержимое Clipboard копируется
в рабочую зону, начиная с позиции курсора.
     - В  String  редакторе  содержимое Clipboard копируется в
активное String Text поле, заменяя выбранный текст в поле.
                              ┌─────┐ ┌───┐
                   Paste Row  │Shift│ │Ins│
                              └─────┘ └───┘
     В Accelerator и Menu редакторах Paste Row копирует содер-
жимое из Clipboard в полную строку,  а не в одиночное поле.  В
противном случае, она работает также, как Paste.
     Примечание. Данные в одной таблице не имеют смысла в таб-
лице другого ресурса.  Таким образом,  Вы не можете  вставлять
информацию из  одного типа таблицы в другой.  Например,  Вы не
можете вставить данные меню в Accelerator или данные строки  в
Menu.
                                ┌───┐
                         Clear  │Del│
                                └───┘
     В Bitmap,  Cursor,  Dialog Box,  Icon и String редакторах
Clear удаляет выбранную область без сохранения их в Clipboard.
Используйте Clear для уничтожения информации из редактора.

                          Clear Row

     В Accelerator  и  Menu  редакторах Clear Row удаляет весь
текст из текущей строки без сохранения его в Clipboard.

                          Clear All

     В Bitmap,  Cursor и Icon редакторах Clear All очищает всю
рабочую область без копирования информации в Clipboard.

                          Select All

     В Dialog Box редакторе Select All выбирает все элементы в
диалоговом окне.  Для того,  чтобы не выбирались  определенные
элементы, держите нажатой Shift и нажимайте клавишу для каждо-
го элемента, который не желаете выбирать.

                         Header меню

     В Accelerator,  Dialog Box,  Menu  и  String  редакторах,
Header меню является незадействованным до тех пор,  пока Вы не
откроете файл заголовков посредством  выбора  New  Header  или
Open Header из File меню. Создание или открытие файла заголов-
ков также открывает редактор  файла  заголовков.  Header  меню
позволяет Вам  прятать  меню  в  то время,когда Вы работаете с
таблицей ресурса и показывать  меню  снова , когда  Вы  готовы
использовать его.

                             Hide

     Hide удаляет  Header  меню  из  видимого изображения так,
чтобы оно не препятствовало рассмотрению  таблицы  ресурса.  В
качестве альтернативы для выбора Header│Hide, дважды нажмите с
помощью мышки на Control-box меню редактора заголовков.

                             Show

     Show возвращает файл заголовков  обратно  в  поле  зрения
после того, как он был спрятан.







